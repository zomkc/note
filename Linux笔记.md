# Linux笔记

## 1. vi和vim:

##### vi和vim常用的三种模式

正常模式

插入模式:	按下i,I,o,O,a,A,r,R等任意一个字母后,会进入编辑模式,一般按i

命令行模式: 

​	这个模式中,可以提供相关指令完成读取,存盘,替换,离开vim,显示行号等动作

​	:或者/进入	在命令行下 :wq(保存退出) :q(退出) :q!(强制退出,不保存)

##### vi和vim快捷键

1.拷贝当前行	yy ,拷贝当前行向下的5行	5yy , 粘贴:	输入 p

2.删除当前行	dd , 删除当前行向下的5行	5dd

3.在文件中查找某个单词[命令行下 /关键字 , 回车 查找, 输入 n 就是查找下一个]

4.设置文件的行号, 取消文件的行号 [命令行下: set nu 和 set nonu ]

5.编辑文件, 在一般模式下,使用快捷键到该文档的最后一行[G ]和第一行[ gg ]

6.文件中,在一般模式下,撤销这个动作[  u ]

7.编辑文件.在一般模式向下,将光标移动到	输入20, 再输入shift+g

8.更多的看文档



## 2. 关机和重启

shutdown	-h	now	立刻执行关机

shuudown	-h	1	一分钟后关机

shutdown	-r	now	现在重新启动计算机

halt	关机

reboot	现在重新启动计算机

sync	把内存的数据同步到磁盘

细节:

1.不管是重启系统还是关闭系统，首先要运行sync命令，把内存中的数据写到磁盘中

2．目前的shutdown/reboot/halt等命令均已经在关机前进行了sync，老韩提醒:小心驶得万年船



## 3.	用户管理

##### 3.1	用户的登录和注销

1.su	-用户名	切换用户

2.logout 即可注销用户

* logout注销指令在图形运行级别无效,在 运行级别 3 下有效

##### 3.2	添加用户

语法: 	useradd	用户名

1.创建用户成功后,会自动创建和用户名同名的家目录, /home/下

2.也可以通过useradd -d 指定目录 新的用户名,	指定家目录

##### 3.3	修改密码

语法:	password	用户名

##### 3.4	删除用户

userdel	用户名

1.删除用户,但是要保留家目录	userdel	用户名

2.删除用户以及用户主目录	userdel	-r	用户名

##### 3.5	查询用户信息

id	用户名

##### 3.6	切换用户

su	-	切换用户名

1.从权限高的用户切换到权限低的用户,不需要输入密码,反之需要

2.当需要返回到原来用户时,使用exit/logout指令

##### 3.7	查询当前用户

whoami/		who am i

who am i	显示的是首次登录的用户(尽管切换了很多次用户)

whoami	是当前使用的用户

##### 3.8	用户组

新增组:	groupadd	组名

删除组:	groupdel	组名

增加用户时直接加上组:	useradd	-g	用户组	用户名

* 新增用户没有指定组,会创建一个跟用户名一样的组,并加入组



查看文件的所有者:	ls	-ahl

修改文件所有者:	chown	用户名	文件名



改变用户所在组

* usermod	-g	新组名	用户名
* usermod   -d   目录名   用户名      /改变该用户登录的初始目录



##### 	/etc/passwd 文件

用户的配置文件,记录用户的各种信息

每行的含义:	用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell

##### 	/etc/shadow 文件

口令的配置文件

每行的含义:	登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:标志

##### 	/etc/group 文件

组的配置文件,记录Linux包含的组的信息

每行含义:	组名:口令:组标志号:组内用户列表



## 4	常用指令

#### 指定运行级别

运行级别声明

* 0:	关机
* 1:     单用户[找回丢失密码]         看文档
* 2:     多用户状态没有网络服务
* 3:     多用户状态有网络服务
* 4:     系统未使用保留给用户
* 5:     图形界面
* 6:     系统重启

命令:	init	[0123456]	通过init切换不同的运行级别



##### 运行级别	Centos7 相比6进行了简化

multi-user.target 指令相对于6的		analogous to runlevel 3

graphical.target 指令相对于6的		analogous to runlevel 5

查看当前的运行级别:	systemctl	get-default

设置默认运行级别:	systemctl	set-default	TARGET.target



#### 文件目录

##### pwd 指令:	显示当前工作目录的绝对路径

##### ls 指令:	语法	ls	[选项] [目录或是文件]

​	-a:	显示当前目录所有的文件和目录,包括隐藏的

​	-l:	以列表的方式显示信息			-lh	[文件大小按m显示]

##### cd 指令:	语法	cd [参数]

​	cd	~	回到自己的家目录

​	cd	..	回到当前目录的上一级目录

##### mkdir 指令	指令用于创建目录

​	语法:	mkdir	[选项]	要创建的目录

​	-p:	创建多级目录

##### rmdir 指令	指令删除空目录

​	语法:	rmdir	[选项]	要删除的空目录	

​	如果需要删除非空目录,需要使用	rm	-rf	要删除的目录

##### touch 指令	指令创建空文件

​	语法:	touch 	文件名称

##### cp指令	指令拷贝文件到指定目录

基本语法: cp	[选项]	source	dest

常用选项:	-r	: 递归复制整个文件夹

强制覆盖不提示:	\cp		----\cp -r /hom/ /test/

##### rm指令	指令移除文件或目录

rm	[选项]	要删除的文件或目录

常用选项

* -r	: 递归删除整个文件夹
* -f    : 强制删除不提示

rm -rf  /root/test

##### mv指令	指令移动文件与目录或重命名

基本语法:

​		mv	File	newFile	(重命名)

​		mv	/temp/file	/root/file	(移动文件)	

##### cat指令	查看文件内容

基本语法:

​		cat	[选项]	要查看的文件

常用选项:

​		-n	: 显示行号

使用细节:

​	cat只能浏览文件,而不能修改文件,为了浏览方便,一般会带上管道命令	| more

##### more指令

​	more指令是一个基于VI编辑器的文本过滤器

​	它以全屏幕的方式按页显示文本文件的内容

​	more指令中内置了若干快捷键(交互的指令)

基本语法:

​					more 要查看的文件

​	空格键(space)		代表向下翻一页

​	Enter		代表向下翻一行

​	q	代表立刻离开more,不再显示该文件的内容

​	Ctrl+F	向下滚动一屏

​	Ctrl+B	返回上一屏

​	=	输出当前的行号

​	:f	输出文件名和当前行的行号

##### less指令

less指令用来分屏查看文件内容,less指令在显示文件内容时,并不是一次将整个文件加载之后才显示的,而是根据显示需要加载内容,对于显示大型文件具有较高的效率

基本语法:

less	要查看的文件

操作:

* 空格键: 向下翻动一页
* [pagedown] : 向下翻动一页
* [pageup] : 向上翻动一页
* /字符串: 向下搜寻[字符串]的功能; n: 向下查找; N: 向上查找
* ?字符串: 和/字符串 功能一样
* q: 离开less这个程序

##### echo指令	echo输出内容到控制台

基本语法:

​	echo	[选项]	[输出内容]

输出环境变量:	echo	$PATH

输出hello:	echo	"hello"

##### head指令	用于显示文件开头部分内容,默认情况下显示前10行

基本语法:

​	head	文件		(查看文件头10行内容)

​	head	-n 5 文件		(查看文件头5行内容,5可以是任意数)

##### tail指令	用于输出文件尾部的内容,默认情况下显示文件的最后10行内容

基本语法:

tail	文件	(查看文件末尾10行内容)

tail	-n	5	文件	(查看文件末尾5行内容)

tail	-f	文件	(实时追踪该文档的所有更新)

##### >指令	和	>>指令

`>`: 输出重定向	`>>`:追加

基本语法:

ls -l > 文件	(列表的内容写入文件中(覆盖写))

ls	-l	>>	文件	(列表内容追加到文件的末尾)

cat	文件1	>	文件2	(将文件1的内容覆盖到文件2)

echo	"内容"	>>	文件	(追加)

##### ln指令	软连接也称为符号连接,类似于windows里的快捷方式,主要存放了连接其他文件的路径

基本语法;

​	ln	-s	[源文件或目录]	[软连接名]		(给源文件创建一个软连接)

##### history指令	查看已经执行过的历史指令,也可以执行历史指令

基本语法:

​	history	(查看已经执行过的历史命令)

显示最近使用过的10个指令:	history	10

执行历史编号为5的指令:	!5

## 

#### 时间日期类

##### date指令	显示当前日期

基本语法:

​	date	(显示当前时间)

​	date	+%Y	(显示当前年份)

​	date	+%m	(显示当前月份)

​	date	+%d	(显示当前是哪一天)

​	date	"+%Y-%m-%d %H:%M:%S"	(显示年日月时分秒)

##### date指令	设置日期

基本语法

date	-s	字符串时间

设置系统当前时间

date	-s	"2022-8-01 20:02:10"

##### cal指令	查看日历指令

基本语法:

cal	[选项]

显示2020年日历	cal 2020



#### 搜索查找类

##### find指令

findhill将从指定目录下递归的遍历其各个子目录,将满足条件的文件或者目录显示在终端

基本语法:

find	[搜索范围]	[选项]

​	选项说明:

* -name	<查询方式>	按照指定的文件名查找模式查找文件

* -user    <用户名>    查找属于指定用户名所有文件
* -size    <文件大小>   按照指定的文件大小查找文件

案例:

find /home -name hello.txt	查找home目录下的hello.txt

find /opt -user nobody	查找/opt目录下,用户名称为nobody的文件

​	(+n 大于	-n 小于	n 等于	单位有k, M, G)

find / -size +200M	查找整个系统大于2000M的文件

##### locate指令	locate指令可以快速定位文件路径

locate指令利用事先建立的系统中所有文件名称及路径的locate数据库实现快速定位给定的文件,locate指令无需遍历整个文件系统,查询速度快,为了	保证查询的准确的,管理员必须定期更新locate时刻

基本语法:

​	loacte	搜索文件

特别说明

由于locate指令基于数据库进行查询,所以第一次运行前,必须使用updatedb指令创建数据库

##### grep指令

grep 过滤查找 

基本语法:

grep	[选项]	查找内容	源文件

常用选项:

* -n   显示匹配行及行号
* -i    忽略字母大小写

##### 管道符号 	|	

管道符 " | " ,表示将前一个命令的处理结果输出传递给后面的命令处理



#### 压缩和解压类

##### gzip / gunzip 指令

gzip 用于压缩文件,	gunzip 用于解压

基本语法:

gzip	文件	(压缩文件,只能将文件压缩为*.gz文件)

gunzip	文件.gz	(解压缩文件命令)

##### zip / unzip 指令

zip 用于压缩文件, unzip 用于解压, 这个在项目打包发布中很有用

基本语法:

zip	[选项]	xxx.zip	将要解压的内容	(压缩文件和目录)

unzip	[选项]	xxx.zip	(解压缩文件)

zip常用选项:

​	-r :	递归压缩,即压缩目录

unzip的常用选项

​	-d	<目录> :	指定解压缩后文件的存放目录

##### tar指令	tar指令是打包指令,最后打包后的文件时 .tar.gz的文件

基本语法:

tar	[选项]	xxx.tar.gz	打包的内容	(打包目录,压缩后的文件格式 .tar.gz)

选项说明:

​	-c	产生.tar打包文件

​	-v	显示详细信息

​	-f	指定压缩后的文件名

​	-z	打包同时压缩

​	-x	解包.tar文件



#### 权限的基本介绍

ls	-l	中显示如下

-rwxrw-r-- 1 root root 1213 Fed 2 09:39 abc

0-9位说明

1.第0位确定文件类型(d,	-,	l,	c,	b )

​	l是连接,相当于windows的快捷方式

​	d是目录,相当于windows的文件夹

​	c是字符设备文件,鼠标,键盘

​	b是块设备,比如硬盘

2.第1-3位确定所有者(该文件的所有者) 拥有该文件的权限

3.第4-6位确定所属组(通用户组的)拥有该文件的权限

4.第7-9位确定其他用户拥有该文件的权限

##### rwx作用到文件

1. [ r ]代表可读(read):可以读取,查看
2. [ w ]代表可写(write):可以修改,但是不代表可以删除文件,删除一个文件的前提条件是对该文件所在的目录有写权限,才能删除该文件
3. [ x ]代表可执行(execute):可以被执行

rwx作用到目录

1. [ r ]代表可读(read):可以读取,ls查看目录内容
2. [ w ]代表可写(write):可以修改,对目录内创建+删除+重命名目录
3. [ x ]代表可执行(execute):可以进入该目录

可用数字表示为: r=4	w=2	x=1	因此rwx=4+2+1=7



-rwxrw-r-- 1 root root 1213 Fed 2 09:39 abc

​	1	文件:硬连接数或	目录: 子目录数

​	root	用户

​	root	组

​	1213	文件大小(字节),如果是文件夹,显示4096字节

​	Fed 2 09:39	最后修改日期

​	abc	文件名



##### 修改权限

通过chmod指令,可以修改文件或者目录的权限



第一种方式: +.-.+变更权限

u:所有者	g:所有组	o:其他人	a:所任意(u.g.o的总和)

1)chmod	u=rex,g-rx,o=x

2)chmod	o+w

3chmod	a-x

第二种方式:通过数字变更权限

r=4 w=2 x=1	rwx=4+2+1=7

chmod u=rwx,g=rx.0=x相当于	chmod	751	文件目录名



##### 修改文件所有者

chown	newowner	文件/目录		[改变所有者]

chown	newowner:newgroup	文件/目录		[改变所有者和所在组]

-R	如果是目录,则是其下所有子文件或目录递归生效	



##### 修改文件/目录所在组

chgrp	newgroup	文件/目录		[改变所在组]



## 定时任务调度

#### crond任务调度

crontab	进行	定时任务的设置

基本语法:

crontab	[选项]

常用选项

* -e : 编辑crontab定时任务
* -l : 查询crontab任务
* -r : 删除当前用户所有的crontab任务

service	crond	restart	[重启任务调度]



案例:

​	*/1 * * * *	ls	-l	/etc/	>	/tmp/to.txt

​	每分钟执行ls -l /etc/ > /tmp/to.txt

五个占位符说明

第一个*	一小时当中的第几分钟	0-59

第二个*	一天当中的第几小时	0-23

第三个*	一个月当中的第几天	1-31

第四个*	一年当中的第几月	1-12

第五个*	一周当中的星期几	0-7(0和7都代表星期日)



特殊符号说明

`*` 	代表任何时间,比如第一个*就代表一小时中的每分钟都执行一次

`,`	代表不连续的时间,比如 0 8,12,16 * * *	就代表在每天的8点0分,12点0分,16点0分都执行一次命令

`-`	代表连续的时间范围,比如 0 5 * * 1-6	代表在周一到周六的凌晨5点0分执行

`*/n`	代表每隔多久执行一次	比如 */10 * * * *	代表每隔10分钟就执行一遍命令



#### at定时任务

基本介绍:

1.at命令是一次性定时计划任务,at的守护进程atd会以后台模式运行,检查作业队列来运行

2.默认情况下,atb守护进程每60秒检查作业队列,有作业时,会检查作业时间,如果时间匹配,则运行作业

3.at命令是一次性定时计划任务,执行完一个任务后,不再执行此任务了

4.在使用at命令的时候,一定要保证atd进程的启动,可以使用相关指令查看

​	ps -ef | grep atd	[检测atd是否在运行]



##### at命令格式

at	[选项]	[时间]

ctrl + D	结束at命令的输入

##### at命令选项

-m	当指定的任务被完成后,将给用户发生邮箱,即使没有标准输出

-i	atq的别名

-d	atrm的别名

-v	显示任务将被执行的时间

-c	打印任务的内容到标准输出

-V	显示版本信息

-q <队列>	使用指定的队列

-f <文件>	从指定文件读入任务而不是从标准输入读入

-t <时间参数>	以时间参数的显示提交要运行的任务

##### at指定时间的方法

1.接受在当天的hh:mm(小时:分钟)式的时间指定,加入该时间已过去,那么就放在第二天执行,列如	04:00

2.使用midnight(深夜),noon(中午),teatime(饮茶时间,一般是下午四点)等比较模糊的词语来指定时间

3.采用12小时计时制,即在时间后面加上AM(上午),或PM(下午)来说明是上午还是下午.列如12pm

4.指定命令执行的具体日期,指定格式为month day(月,日)	或mm/dd/yy(月/日/年)

或dd.mm.yy(日.月.年),指定的日期必须跟在指定时间的后面

5.使用相对计时法,指定格式为:	now + count time-units, now就是当前时间,time-units是时间单位,这里能够是minutes(分钟),hours(小时),days(天),weeks(星期).count是时间的数量,例如: now + 5 minutes

6.直接使用today(今天),honorrow(明天),来指定完成命令的时间

##### 删除已经设置的任务

​	atrm	编号



## linux磁盘分区,挂载

##### 查看所有设备挂载情况

命令:	lsblk	或者lsblk	-f



##### 增加硬盘:

分区命令:	fdisk	/dev/sdb



##### 开始对/sdb分区

m	显示命令列表

p	显示磁盘分区	同fdisk -l

n	新增分区

d	删除分区

w	写入并退出

若不保存退出,输入q



##### 格式化磁盘

分区命令:	mkfs	-t	ext4	/dev/sdb1

其中ext4是分区类型



##### 挂载:	将一个分区与一个目录联系起来

mount	设备名称	挂载目录

例如	mount	/dev/sdb1	/newdisk

##### 卸载:	umount	设备名称	或者	挂载目录

注意:用命令行挂载重启后会失效

##### 永久挂载:	通过修改/etc/fstab实现挂载

添加完成后	执行mount	-a	即刻生效

##### 查询系统整体磁盘使用情况

df	-h

##### 查询指定目录的磁盘占用情况

du -h	目录

查询指定目录的磁盘占用情况,默认为当前目录

-s	指定目录占用大小汇总

-h	带计量单位

-a	含文件

--max-depth=1	子目录深度

-c	列出明细的同时,增加汇总值



案例:

统计/opt文件夹下的文件个数

​	ls -l	/opt | grep	"^-"	|	wc	-l

统计/opt下目录的个数,包括子文件里的

​	ls -lR	/opt | grep	"^d"	|	wc	-l

以树状显示目录结构

tree	目录

如果未安装,使用	yum install tree	安装



## linux网络环境配置

#### 指定ip

直接修改配置文件来指定ip,并可以连接外网

编辑	vim /etc/sysconfig/network-scripts/ifcfg-ens33



ifcfg-ens33文件说明

DEVICE=eth0	接口名(设备,网卡)

HWADDR=00:0c:2x:6x...		MAC地址

TYPE=Ethernet	网络类型(通常是Ethernet)

UUID=xxxx...		随机id

系统启动时网络接口是否有效(yes/no)

ONBOOT=yes



ip的配置方法:

[none	static	bootp	dhcp ]

[引导时不使用协议	静态分配ip	bootp协议	DHCP协议 ]

BOOTPROTO=static

#ip地址

IPADDR=192.168.200.130

#网关

GATEWAY=192.168.200.2

#域名解析器

DNS1=192.168.200.2

##### 重启网络服务或重启系统生效

service	network	restart		,		reboot



#### 设置主机名

指令:	hostname	:查看主机名

修改文件在	/etc/hostname 指定

修改后重启生效



#### 设置hosts映射

windows:

在C:\Windows\System32\drivers\etc\hosts 文件指定即可

192.168.200.130	os01



linux

在 /etc/hosts 文件指定



ipconfig	/displaydns	[DNS域名解析缓存]

ipconfig	/flushdns	[手动清理DNS缓存]





## 进程管理

##### 显示系统执行的进程

ps	命令是用来查看目前系统中,有哪些正在执行,以及它们的运行情况

​	ps	-a	:显示当前终端的所有进程信息

​	ps	-u	:以用户的格式显示进程信息

​	ps	-x	:显示后台进程运行的参数

ps	-ef	是以全格式显示当前所有进程

* -e 显示所有进程
* -f 全格式

PID	:父进程ID

UID	:用户ID

C	:CPU用于计算执行优先级的因子,数值越大,表示进程是CPU密集型运算,执行优先级会降低

STIME	:进程启动时间

TTY	:完整的终端名称

TIME	:CPU时间

CMD	:启动进程所用的命令和参数



ps详解:

​	ps	-aux	|	grep	xxx	比如看看sshd服务

指令说明:

System V	:展示风格

USER	:用户名称

PID	:进程号

%CPU	:进程占用CPU的百分比

%MEM	:进程占用物理内存大百分比

VSZ	:进程占用的虚拟内存大小

RSS	:进程占用的物理内存大小

TT	:终端名称,缩写

STAT	:进程状态,	其中S-睡眠,s-表示该进程是会话的先导程序,N-表示进程拥有比普通优先级更低的优先级,R-正在运行,D-短期等待,Z-僵死状态,T-被跟踪或者被停止

STARTED	:进程的启动时间

TIME	:CPU时间.进程使用CPU的总时间

COMMAND	:启动进程所用的命令和参数,如果过长会被截断



##### 终止进程	kill	和	killall

基本语法:

kill	[选项]	进程号	(通过进程号杀死/终止程序)

killall	进程名称	(通过进程名称杀死进程,也支持通配符,这在系统因负载过大而变得很慢时很有用)

常用选项:

​	-9	表示强迫进程立即停止



##### 查看继承树	pstree

pstree	[选项]	可以更加直观看进程信息

常用选项:

​	-p	显示进程的PID

​	-u	显示进程的所属用户



##### 服务(service)管理

service管理指令

service	服务名	[start | stop | restart | reload | staus ]

在CentOS 7.0后,很多服务不再使用service,而是使用systemctl

service指令管理的服务在 /etc/init.d 查看

##### 查看服务名:

setup	-> 系统服务 就可以看到全部



##### 服务(systemctl管理指令)管理

1.基本语法:

systemctl	[start | stop | restart | status ]	服务名

2.systemctl指令管理的服务在 /usr/lib/systemd/system 查看

##### systemctl设置服务的自启动状态

1.systemctl	list-unit-files	[ | grep 服务名] (查看服务开机启动状态,grep可以进行过滤)

2.systemctl	enable	服务名	(设置服务开机启动)

3.systemctl	disable	服务名	(关闭服务开机启动)

4.systemctl	is-enabled	服务名	(查询某个服务是否是自启动)

##### 打开或关闭指定端口

firewall指令

打开端口:	firewall-cmd	--permanent	--add-port=端口号/协议

关闭端口:	firewall-cmd	--permanent	--remove-port=端口号/协议

重新载入,才能生效:	firewall-cmd	--reload

查询端口是否开发:	firewall-cmd	--query-port=端口/协议



查看端口协议:	netstat	-anp

测试端口:	telnet



##### 动态监控进程

top与ps命令很相似,它们都是用来显示正在执行的进程,top与ps最大的不同之处,在于top在执行一段时间可以更新正在运行的进程

基本语法:

top	[选项]

选项说明:

-d	秒数	:指定top命令每隔几秒更新,默认3秒

-i	使top不显示任何限制或者僵死进程

-p	通过指定监控进程ID来仅仅监控某个进程的状态



交互操作说明:

P	以cup使用率排序,默认就是此项

M	以内存的使用率排序

N	以PID排序

q	退出top

监视特定用户

u	:输入,然后回车,在输入用户名即可

终止指定的进程

k	:输入,然后回车,再输入要结束的进程ID号

##### 监控网络状态

基本语法:

​	netstat	[选项]

选项:

​	-an	按一定顺序排列输出

​	-p	显示哪个进程在调用





## rpm与yun

##### rpm包的简单查询指令

查询已安装的rpmi列表	rpm	-qa | grep	xx

rpm包名基本格式

一个rpm包名:	firefox-91.10.0-1.el7.centos.x86_64

名称:firefox

版本号:91.10.0-1

适用操作系统:el7.centos.x86_64

表示centos7.x的64位系统,如果是i696,i386表示32位系统,noarch表示通用



查询所安装的所有rpm软件包

​	rpm	-qa

检测软件包是否安装

​	rpm	-q	软件名

处查询软件包信息

​	rpm	-qi

查询软件包中的文件

​	rpm	-ql

查询文件所属的软件包

​	rpm	-qf	文件的全路径名

##### 

##### 卸载rpm包

语法:	rpm	-e	RPM包名称

细节:

1.如果其他软件包依赖于你要卸载的软件包,卸载时则会产生错误信息

2.如果我们就是要卸载,可以增加参数:	--nodeps,就可以强制删除

如:	rpm	-e	--nodeps	foo



##### 安装rpm包

基本语法:	rpm	-ivh	RPM包的全路径名称

参数说明:

​	i=install	安装

​	v=verbose	提示

​	h=hash	进度条



##### yum

yum是一个Shell前端软件包管理器,基于RPM包管理,能够从指定的服务器自动下载RPM包并且安装,可以自动处理依赖性关系,并且一次安装所有依赖的软件包

##### yum的基本指令

查询yum服务器是否有需要安装的软件

yum	list	|	grep	xx软件列表

安装指定的yum包

yum	install	xxx	下载安装



## jdk安装

![QQ截图20220908114053](assets/QQ%E6%88%AA%E5%9B%BE20220908114053.png)





## shell

shell脚本的执行方式

脚本格式要求

1.脚本以	#!/bin/bash	开头

2.脚本需要有可执行权限



##### Shell变量

介绍:

1.Linux	Shell中的变量分为:系统变量和用户自定义变量

2.系统变量:	$HOME,$PWD,$SHELL,$USER等等,比如echo $HOME

3.显示当前shell中的所有变量: set

##### shell变量的定义

基本语法:

1.定义变量:	变量名=值

2.撤销变量:	unset 变量

3.声明静态变量:	readonly变量,	注意:不能unset



定义变量的规则

1.变量名称可以由字母,数字和下划线组成,但不能以数字开头

2.等号两侧不能有空格

3.变量名称一般习惯大写



##### 将命令的返回值赋给变量

1.A=`data` 反引号,运行里面的命令,并且把结果返回给变量A

2.A=$(data)等价于反引号



##### 设置环境变量

基本语法:

* export	变量名=变量值	[将shell变量输出为环境变量/全局变量]
* source    配置文件    [让修改后的配置信息立即生效]
* echo    $变量名    [查看环境变量的值]

注意:输出环境变量前,需要让其生效:	source	/etc/profile



shell脚本的多行注释

:<<!		内容		!



##### 位置参数变量

当我们执行一个shell脚本时,如果希望获取到命令行的参数信息,就可以使用位置参数变量

基本语法:

$n	[n为数字,$0代表命令本身,$1-$9代表第一到第九个参数,十以上的参数,十以上的参数需要用大括号包含,如	${10}	]

$*	[这个变量代表命令行中的所有的参数,$*把所有参数看做一个整体]

$@	[这个变量也代表命令行中所有的参数,不过$@把每个参数区分对待]

$#	[这个变量代表命令行中所有参数的个数]

 

##### 预定义变量

shell设计者已经定义好的变量,可以直接在shell脚本中使用

基本语法:

$$	当前进程的进程号	pid

$!	后台运行的最后一个进程的进程号	pid

$?	最后一次执行的命令的返回状态,如果这个变量的只为0,证明上一个命令正确执行,如果值为非0,证明上一个命令执行不正确



##### 运算符

基本语法:

1	$((运算式))	或	$[运算式]	或者	expr	m	+	n

2	注意expr运算符间要有空格,如果希望将expr的结果赋值给某个变量,使用``

3	expr	m	-	n

4	expr	`\*`,`/`,`%`		乘,	除,	取余



##### 条件判断

基本语法:

[ condition ]	(注意:condition前后有空格)

非空返回true,可使用$?验证	(0为true, >1为false)

判断语句:

常用判断条件

1	=	字符串比较

2	两个整数的比较

​	-lt	小于

​	-le	小于等于

​	-eq	等于

​	-gt	大于

​	-ge	大于等于

​	-ne	不等于

3	按照文件权限进行判断

​	-r	有读权限

​	-w	有写权限



#### 流程控制

##### if判断

基本语法:

`if`	[ 条件判断式 ]

then

代码

fi

或者多分支

if	[ 条件判断式 ]

then

代码

elif	[ 条件判断式 ]

rhen

代码

`fi`

注意事项:	[ 条件判断式 ],中括号和条件判断之间必须有空格



##### case语句

基本语法:

`case`	$变量名	in

"值1")

如果变量的值等于值1,则执行程序1

;;

"值2")

如果变量的值等于值2,则执行查询2

;;

...省略其他分支

`*`)

如果变量的值都不是以上的值,则执行此程序

;;

`esac`



##### for循环

基本语法1

for	变量	in	值1	值2	值3	...

do

程序

done

基本语法2

for	((初始值;	循环控制条件;	变量变化))

do

程序

done



##### while循环

基本语法1

while	[ 条件判断式 ]

do

程序

done



##### read读取控制台输出

基本语法:

read	(选项)	(参数)

选项:

-p	:指定读取时的提示符

-t	:指定读取时等待的书剑(秒),如果指定时间内没输出,就不等待了

参数:

​	变量	:指定读取值的变量名



##### 函数

shell编程和其它编程语言一样,有系统函数,也可以自定义函数

系统函数:

basename基本语法

功能:	返回完整路径最后 / 的部分	,常用于获取文件名

basename	[pathname]	[suffix]

basename	[string]	[suffix]	(功能描述:	basename命令会删除前缀包括最后一个 "/" 字符,然后将字符串显示出来)

选项:

​	suffix为后缀,如果suffix被指定了,basename会将pathname或者string中的suffix去掉



dirname基本语法

功能:	返回完整路径最后 / 前面的部分,常用与返回路径部分

dirname	文件绝对路径	(功能描述:	从给定的包含绝对路径的文件名中去除文件名,然后返回剩下的路径)



自定义函数:

基本语法

[ function ]	funname[()]

{

​	Action;

​	[return	int;]

}

调用执行写函数名	: funname	[值]







## 后台运行程序

##### nohup	命令	(no hang up) [不挂起]

用于不挂断地运行指定命令,退出终端不会影响程序的运行

语法格式:	nohup	Command	[Arg...]	[&]

参数说明:

Command:	要执行的命令

Arg:	一些参数,可知道输出文件

&:	让命令在后台运行

案例:

​		nohup	java -jar	boot工程.jar	&> hello.log	&

​		后台运行java -jar命令,并将日志输出到hello.log文件

## 查看jar包进程

ps aux|grep xxx.jar

ps -ef | grep java

或者通过top查看



杀死进程:

pkill 进程名

停用服务:

​	kill	-9	进程id



```
LTAI5t9epadHGaLbcgoPmqtt
```

```
tzf1NsVsC80jtw4LIV9E4NF6AQPJbO
```





13631
